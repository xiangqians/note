<!--
 | @author xiangqian
 | @date 19:23 2023/04/10
 |-->
{{ define "common/float.html" }}
{{ $data := .resp.Data }}
<div class="float" style="display: none;">
    <p style="color: red;">{{ .resp.Msg }}</p>
    <table border="1" cellspacing="0" cellpadding="10" align="center">
        <tbody>
        <tr>
            <td>{{ Localize "i18n.name" }}</td>
            <td>{{ $data.Name }}</td>
        </tr>
        <tr name="path" style="display: none;">
            <td>{{ Localize "i18n.path" }}</td>
            <td name="path"></td>
        </tr>
        <tr>
            <td>{{ Localize "i18n.type" }}</td>
            <td>{{ $data.Type }}</td>
        </tr>
        <tr>
            <td>{{ Localize "i18n.size" }}</td>
            <td>{{ HumanizFileSize $data.Size }}</td>
        </tr>
        <tr>
            <td>{{ Localize "i18n.addTime" }}</td>
            <td>{{ HumanizUnix $data.AddTime }}</td>
        </tr>
        <tr>
            <td>{{ Localize "i18n.updTime" }}</td>
            <td>{{ HumanizUnix $data.UpdTime }}</td>
        </tr>
        </tbody>
    </table>
    <br>

    {{ Localize "i18n.hist" }}
    <select name="hist">
        <option value="-1"></option>
        {{ $len := len $data.Hists }}
        {{ if gt $len 0 }}
        {{ range $index,$hist := $data.Hists }}
        <option value="{{ $index }}">
            {{ $hist.Name }}&nbsp;&nbsp;&nbsp;
            {{ $hist.Type }}&nbsp;&nbsp;&nbsp;
            {{ if eq $hist.UpdTime 0 }}{{ HumanizUnix $hist.AddTime }}{{ else }}{{ HumanizUnix $hist.UpdTime }}{{ end }}
        </option>
        {{ end }}
        {{ end }}
    </select>
    <br>
    <br>

    <form action=""
          method="POST"
          enctype="multipart/form-data">
        <input name="id" type="text" value="{{ $data.Id }}" hidden/>
        <input name="file" type="file" disabled/>
        <button type="submit" disabled>{{ Localize "i18n.upload" }}</button>
    </form>
</div>
{{ end }}